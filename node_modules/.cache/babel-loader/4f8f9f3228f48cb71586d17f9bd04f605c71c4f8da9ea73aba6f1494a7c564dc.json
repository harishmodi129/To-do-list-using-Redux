{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { fetchTasks, addTask, editTask } from \"../services/api\";\n\n// Thunk to fetch tasks\nexport const fetchTasksFromAPI = createAsyncThunk(\"tasks/fetchTasks\", async (_, {\n  rejectWithValue\n}) => {\n  try {\n    return await fetchTasks();\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\n\n// Thunk to add a task\nexport const addTaskToAPI = createAsyncThunk(\"tasks/addTask\", async (task, {\n  rejectWithValue\n}) => {\n  try {\n    return await addTask(task);\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\n\n// Thunk to edit a task\nexport const editTaskInAPI = createAsyncThunk(\"tasks/editTask\", async ({\n  id,\n  task\n}, {\n  rejectWithValue\n}) => {\n  try {\n    return await editTask(id, task);\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nconst tasksSlice = createSlice({\n  name: \"tasks\",\n  initialState: {\n    list: [],\n    loading: false,\n    error: null\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder\n    // Fetch Tasks\n    .addCase(fetchTasksFromAPI.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(fetchTasksFromAPI.fulfilled, (state, action) => {\n      state.list = action.payload;\n      state.loading = false;\n    }).addCase(fetchTasksFromAPI.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    })\n\n    // Add Task\n    .addCase(addTaskToAPI.fulfilled, (state, action) => {\n      state.list.push(action.payload);\n    })\n\n    // Edit Task\n    .addCase(editTaskInAPI.fulfilled, (state, action) => {\n      const updatedTask = action.payload;\n      const index = state.list.findIndex(task => task.id === updatedTask.id);\n      if (index !== -1) {\n        state.list[index] = updatedTask;\n      }\n    });\n  }\n});\nexport default tasksSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","fetchTasks","addTask","editTask","fetchTasksFromAPI","_","rejectWithValue","error","message","addTaskToAPI","task","editTaskInAPI","id","tasksSlice","name","initialState","list","loading","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","push","updatedTask","index","findIndex","reducer"],"sources":["D:/task/my-react-app/src/redux/taskslice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { fetchTasks, addTask, editTask } from \"../services/api\";\r\n\r\n// Thunk to fetch tasks\r\nexport const fetchTasksFromAPI = createAsyncThunk(\r\n  \"tasks/fetchTasks\",\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      return await fetchTasks();\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\n\r\n// Thunk to add a task\r\nexport const addTaskToAPI = createAsyncThunk(\r\n  \"tasks/addTask\",\r\n  async (task, { rejectWithValue }) => {\r\n    try {\r\n      return await addTask(task);\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\n\r\n// Thunk to edit a task\r\nexport const editTaskInAPI = createAsyncThunk(\r\n  \"tasks/editTask\",\r\n  async ({ id, task }, { rejectWithValue }) => {\r\n    try {\r\n      return await editTask(id, task);\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\n\r\nconst tasksSlice = createSlice({\r\n  name: \"tasks\",\r\n  initialState: {\r\n    list: [],\r\n    loading: false,\r\n    error: null,\r\n  },\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder\r\n      // Fetch Tasks\r\n      .addCase(fetchTasksFromAPI.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(fetchTasksFromAPI.fulfilled, (state, action) => {\r\n        state.list = action.payload;\r\n        state.loading = false;\r\n      })\r\n      .addCase(fetchTasksFromAPI.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n\r\n      // Add Task\r\n      .addCase(addTaskToAPI.fulfilled, (state, action) => {\r\n        state.list.push(action.payload);\r\n      })\r\n\r\n      // Edit Task\r\n      .addCase(editTaskInAPI.fulfilled, (state, action) => {\r\n        const updatedTask = action.payload;\r\n        const index = state.list.findIndex(\r\n          (task) => task.id === updatedTask.id\r\n        );\r\n        if (index !== -1) {\r\n          state.list[index] = updatedTask;\r\n        }\r\n      });\r\n  },\r\n});\r\n\r\nexport default tasksSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}